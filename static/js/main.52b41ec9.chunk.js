(this["webpackJsonprecipes-app"]=this["webpackJsonprecipes-app"]||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},2:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return o}));var r="452500646277-1ghe20uhksl0eeidurc0bifcue2skevh.apps.googleusercontent.com",c="AIzaSyArIxWcUVKS77HiW62vDeSPP7WDADJGSOQ",s="1mlCIY1G-CW1EfNddv7tjEVJoXCz6TyXLcNfqLdBRkzU",i={name:"name",person:"person",raw_cat:"category",raw_recipe:"raw recipe",ingreds:"ingredients",instructions:"instructions",story:"story",source:"source",cooking_time:"cooking time",preheat_temp:"preheat temperature",servings:"servings",photos:"photos"},a={name:"names",person:"people",raw_cat:"categories",raw_recipe:"raw recipes",ingreds:"ingredients",instructions:"instructions",story:"stories",source:"sources",cooking_time:"cooking times",preheat_temp:"preheat temperatures",servings:"servings",photos:"photos"},o=["name","person","raw_cat","ingreds","instructions","story","source","cooking_time","preheat_temp","servings"]},21:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),s=n.n(c),i=n(7),a=n.n(i),o=(n(18),n(3)),u=(n(19),n(9)),l=n(12),d=n(10),h=n(2);function p(e){var t=e.split("open?"),n=Object(o.a)(t,2),r=n[0],c=n[1];return"".concat(r,"uc?export=view&").concat(c)}var j=["story","source","cooking_time","preheat_temp","servings"];function f(e){var t=e.name,n=e.person,s=e.ingreds,i=e.instructions,a=e.photos;console.log("TODO: unhandled photos",a);var o=c.useRef(),u=Object(d.useReactToPrint)({content:function(){return o.current}});return Object(r.jsxs)("div",{ref:o,className:"recipe_container",children:[Object(r.jsx)("button",{onClick:u,title:"print this recipe",className:"print_recipe_button",children:Object(r.jsxs)("svg",{id:"_x31__px","enable-background":"new 0 0 24 24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[Object(r.jsx)("path",{d:"m21.5 18h-3c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h3c.827 0 1.5-.673 1.5-1.5v-7c0-.827-.673-1.5-1.5-1.5h-19c-.827 0-1.5.673-1.5 1.5v7c0 .827.673 1.5 1.5 1.5h3c.276 0 .5.224.5.5s-.224.5-.5.5h-3c-1.379 0-2.5-1.122-2.5-2.5v-7c0-1.378 1.121-2.5 2.5-2.5h19c1.379 0 2.5 1.122 2.5 2.5v7c0 1.378-1.121 2.5-2.5 2.5z"}),Object(r.jsx)("path",{d:"m14.5 21h-6c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h6c.276 0 .5.224.5.5s-.224.5-.5.5z"}),Object(r.jsx)("path",{d:"m14.5 19h-6c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h6c.276 0 .5.224.5.5s-.224.5-.5.5z"}),Object(r.jsx)("path",{d:"m10.5 17h-2c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h2c.276 0 .5.224.5.5s-.224.5-.5.5z"}),Object(r.jsx)("path",{d:"m18.5 7c-.276 0-.5-.224-.5-.5v-4c0-.827-.673-1.5-1.5-1.5h-9c-.827 0-1.5.673-1.5 1.5v4c0 .276-.224.5-.5.5s-.5-.224-.5-.5v-4c0-1.378 1.121-2.5 2.5-2.5h9c1.379 0 2.5 1.122 2.5 2.5v4c0 .276-.224.5-.5.5z"}),Object(r.jsx)("path",{d:"m16.5 24h-9c-1.379 0-2.5-1.122-2.5-2.5v-8c0-.276.224-.5.5-.5h13c.276 0 .5.224.5.5v8c0 1.378-1.121 2.5-2.5 2.5zm-10.5-10v7.5c0 .827.673 1.5 1.5 1.5h9c.827 0 1.5-.673 1.5-1.5v-7.5z"})]})}),Object(r.jsx)("h3",{className:"recipe_name",children:t}),Object(r.jsx)("h5",{className:"recipe_person",children:n}),Object(r.jsx)("strong",{className:"category_header",children:h.c.ingreds}),Object(r.jsx)("ul",{children:s.split("\n").filter((function(e){return e})).map((function(e,t){return Object(r.jsx)("li",{children:e},"".concat(t).concat(e))}))}),Object(r.jsx)("strong",{className:"category_header",children:h.c.instructions}),Object(r.jsx)("div",{children:i.split("\n").filter((function(e){return e})).map((function(e,t){return Object(r.jsx)("p",{children:e},"".concat(t).concat(e))}))}),a&&a.split(", ").map((function(e,n){return Object(r.jsx)("img",{className:"recipe_photo_thumbnail",src:p(e),alt:"".concat(t).concat(n)})})),Object(r.jsx)("div",{className:"print_only",children:j.map((function(t){return e[t]?Object(r.jsxs)("label",{className:"print_only_item",children:[Object(r.jsx)("strong",{className:"category_header",children:h.c[t]}),Object(r.jsx)("p",{children:e[t]})]}):null}))})]})}function v(e){var t=e.recipes,n=e.filters,c=e.searchTerm;return t?Object(r.jsx)("div",{className:"recipes_container",children:t.map((function(e,t){var s=n.every((function(t){var n=t.key,r=t.value;return e[n]===r})),i=""===c||function(e){return Object.keys(e).reduce((function(t,n){return h.f.includes(n)?"".concat(t).concat(e[n]):t}),"")}(e).search(new RegExp(c,"i"))>=0;return s&&i?Object(r.jsx)(f,Object(l.a)({},e),"".concat(e.name," ").concat(t)):null}))}):null}function m(e){var t=e.setSearchTerm,n=e.searchTerm;return Object(r.jsxs)("div",{className:"search_container",children:[Object(r.jsx)("input",{onChange:function(e){return t(e.target.value)},placeholder:"Search...",value:n}),n&&Object(r.jsx)("i",{className:"clear_search_button",onClick:function(){return t("")},children:"\xd7"})]})}var g=n(8);function b(e){var t,n=e.filterKey,c=e.currentValue,s=e.allValues,i=e.setKeyFilter;return Object(r.jsx)("div",{className:"filter_container ".concat(n,"_filter"),children:Object(r.jsxs)("select",{onChange:function(e){var t=e.target.options[e.target.selectedIndex].value;i(n,t)},value:null!==c&&void 0!==c?c:"",children:[Object(r.jsx)("option",{value:"",children:"all ".concat((t=n,h.d[t]),"...")}),s.map((function(e){return Object(r.jsx)("option",{value:e,children:e},e)}))]})})}var O=["person","raw_cat"];function x(e){var t=e.recipes,n=e.setFilters,c=e.filters,s=function(e,t){n(t?[].concat(Object(g.a)(c.filter((function(t){return t.key!==e}))),[{key:e,value:t}]):Object(g.a)(c.filter((function(t){return t.key!==e}))))},i=function(e){var t;return null===(t=c.find((function(t){return t.key===e})))||void 0===t?void 0:t.value},a=function(e){return t.map((function(t){return t[e]})).filter((function(e,t,n){return e&&n.indexOf(e)===t}))};return t?Object(r.jsxs)("div",{className:"filters_container",children:[O.map((function(e){return Object(r.jsx)(b,{filterKey:e,currentValue:i(e),allValues:a(e),setKeyFilter:s},e)})),c.length>0&&Object(r.jsx)("button",{onClick:function(){return n([])},children:"clear all"})]}):null}var _=n(11),y=[];var k=function(){var e=function(e){var t=c.useState({loaded:!1,error:!1}),n=Object(_.a)(t,2),r=n[0],s=n[1];return c.useEffect((function(){if(!y.includes(e)){y.push(e);var t=document.createElement("script");t.src=e,t.async=!0;var n=function(){s({loaded:!0,error:!1})},r=function(){var n=y.indexOf(e);n>=0&&y.splice(n,1),t.remove(),s({loaded:!0,error:!0})};return t.addEventListener("load",n),t.addEventListener("error",r),document.body.appendChild(t),function(){t.removeEventListener("load",n),t.removeEventListener("error",r)}}s({loaded:!0,error:!1})}),[e]),[r.loaded,r.error]}("https://apis.google.com/js/api.js"),t=Object(o.a)(e,2),n=t[0],s=t[1],i=c.useState(null),a=Object(o.a)(i,2),l=a[0],d=a[1],h=c.useState([]),p=Object(o.a)(h,2),j=p[0],f=p[1],g=c.useState(""),b=Object(o.a)(g,2),O=b[0],k=b[1];return Object(r.jsxs)("div",{className:"app_container",children:[Object(r.jsx)(u.a,{loaded:n,setRecipes:d}),s&&Object(r.jsx)("p",{children:"gapiError"}),l&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"controls_container",children:[Object(r.jsx)(m,{setSearchTerm:k,searchTerm:O}),Object(r.jsx)(x,{recipes:l,setFilters:f,filters:j})]}),Object(r.jsx)(v,{recipes:l,filters:j,searchTerm:O})]})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),s(e),i(e)}))};a.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(k,{})}),document.getElementById("root")),N()},9:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=n(3),c=n(0),s=n(1),i=n(2);function a(t){var n=t.loaded,a=t.setRecipes,o=s.useState(!1),u=Object(r.a)(o,2),l=u[0],d=u[1],h=s.useCallback((function(){e.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:i.e,range:"Recipes!A2:L92"}).then((function(e){var t=e.result.values;if(t.length>0){var n=t.map((function(e){var t=Object(r.a)(e,14),n=t[0],c=t[1],s=t[2],i=t[3],a=t[4],o=t[5],u=t[6],l=t[7],d=t[8],h=t[9],p=t[10],j=t[11],f=t[12];return{name:s,person:c,raw_cat:i,raw_recipe:t[13],ingreds:o,instructions:u,story:l,source:d,cooking_time:h,preheat_temp:f,servings:p,photos:j,timestamp:n,alt_cat:a}}));a(n)}else console.error("No Data Found")}),(function(e){console.error("Error: "+e.result.error.message)}))}),[a]);return s.useEffect((function(){var t=e.gapi;if(n){var r=function(e){e?(d(!0),h()):d(!1)};t&&t.load("client:auth2",(function(){t.client.init({apiKey:i.a,clientId:i.b,discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4"],scope:"https://www.googleapis.com/auth/spreadsheets.readonly"}).then((function(){t.auth2.getAuthInstance().isSignedIn.listen(r),r(t.auth2.getAuthInstance().isSignedIn.get())}),(function(e){console.error(JSON.stringify(e,null,2))}))}))}}),[n,h]),Object(c.jsx)("div",{className:"auth_container ".concat(l?"logged_in":"not_authorized"),children:l?Object(c.jsx)("button",{className:"logout_button",onClick:function(t){e.gapi.auth2.getAuthInstance().signOut()},children:"LOGOUT"}):Object(c.jsx)("button",{className:"authorize_button",onClick:function(t){e.gapi.auth2.getAuthInstance().signIn()},children:"AUTHORIZE WITH GOOGLE ACCOUNT"})})}}).call(this,n(20))}},[[21,1,2]]]);
//# sourceMappingURL=main.52b41ec9.chunk.js.map