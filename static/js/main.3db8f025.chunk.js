(this["webpackJsonprecipes-app"]=this["webpackJsonprecipes-app"]||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var c=n(3),r=n(0),s=n(1),i=n(2);function a(t){var n=t.loaded,a=t.setRecipes,o=s.useState(!1),u=Object(c.a)(o,2),l=u[0],d=u[1],p=s.useCallback((function(){e.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:i.e,range:"Recipes!A2:L92"}).then((function(e){var t=e.result.values;if(t.length>0){var n=t.map((function(e){var t=Object(c.a)(e,14),n=t[0],r=t[1],s=t[2],i=t[3],a=t[4],o=t[5],u=t[6],l=t[7],d=t[8],p=t[9],h=t[10],j=t[11],m=t[12];return{name:s,person:r,raw_cat:i,raw_recipe:t[13],ingreds:o,instructions:u,story:l,source:d,cooking_time:p,preheat_temp:m,servings:h,photos:j,timestamp:n,alt_cat:a}}));a(n)}else console.error("No Data Found")}),(function(e){console.error("Error: "+e.result.error.message)}))}),[a]);return s.useEffect((function(){var t=e.gapi;if(n){var c=function(e){e?(d(!0),p()):d(!1)};t&&t.load("client:auth2",(function(){t.client.init({apiKey:i.a,clientId:i.b,discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4"],scope:"https://www.googleapis.com/auth/spreadsheets.readonly"}).then((function(){t.auth2.getAuthInstance().isSignedIn.listen(c),c(t.auth2.getAuthInstance().isSignedIn.get())}),(function(e){console.error(JSON.stringify(e,null,2))}))}))}}),[n,p]),Object(r.jsx)("div",{className:"auth_container ".concat(l?"logged_in":"not_authorized"),children:l?Object(r.jsx)("button",{className:"logout_button",onClick:function(t){e.gapi.auth2.getAuthInstance().signOut()},children:"LOGOUT"}):Object(r.jsx)("button",{className:"authorize_button",onClick:function(t){e.gapi.auth2.getAuthInstance().signIn()},children:"AUTHORIZE WITH GOOGLE ACCOUNT"})})}}).call(this,n(20))},19:function(e,t,n){},2:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return o}));var c="452500646277-1ghe20uhksl0eeidurc0bifcue2skevh.apps.googleusercontent.com",r="AIzaSyArIxWcUVKS77HiW62vDeSPP7WDADJGSOQ",s="1mlCIY1G-CW1EfNddv7tjEVJoXCz6TyXLcNfqLdBRkzU",i={name:"name",person:"person",raw_cat:"category",raw_recipe:"raw recipe",ingreds:"ingredients",instructions:"preparation",story:"story",source:"source",cooking_time:"cooking time",preheat_temp:"preheat temperature",servings:"servings",photos:"photos"},a={name:"names",person:"people",raw_cat:"categories",raw_recipe:"raw recipes",ingreds:"ingredients",instructions:"preparation",story:"stories",source:"sources",cooking_time:"cooking times",preheat_temp:"preheat temperatures",servings:"servings",photos:"photos"},o=["name","person","raw_cat","ingreds","instructions","story","source","cooking_time","preheat_temp","servings"]},21:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),s=n.n(r),i=n(8),a=n.n(i),o=(n(19),n(3)),u=(n(10),n(11)),l=n(6),d=n(12),p=n(2);function h(e){var t=e.match(new RegExp("(https://drive.google.com/)file/d/(.+)/.*"));return console.log(e,t),t&&"".concat(t[1],"uc?export=view&id=").concat(t[2])}var j=["cooking_time","preheat_temp","servings","source"];function m(e){var t=e.name,n=e.person,s=e.ingreds,i=e.instructions,a=e.photos,o=e.story,u=e.clearFocus,l=a?a.split(", "):[],m=r.useRef(),f=Object(d.useReactToPrint)({content:function(){return m.current}});return Object(c.jsxs)("div",{ref:m,className:"recipe_container",children:[Object(c.jsxs)("div",{className:"button_row",children:[Object(c.jsx)("button",{className:"back_button",onClick:u,children:"< Back"}),Object(c.jsx)("button",{onClick:f,title:"print this recipe",className:"print_recipe_button",children:Object(c.jsxs)("svg",{id:"_x31__px","enable-background":"new 0 0 24 24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[Object(c.jsx)("path",{d:"m21.5 18h-3c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h3c.827 0 1.5-.673 1.5-1.5v-7c0-.827-.673-1.5-1.5-1.5h-19c-.827 0-1.5.673-1.5 1.5v7c0 .827.673 1.5 1.5 1.5h3c.276 0 .5.224.5.5s-.224.5-.5.5h-3c-1.379 0-2.5-1.122-2.5-2.5v-7c0-1.378 1.121-2.5 2.5-2.5h19c1.379 0 2.5 1.122 2.5 2.5v7c0 1.378-1.121 2.5-2.5 2.5z"}),Object(c.jsx)("path",{d:"m14.5 21h-6c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h6c.276 0 .5.224.5.5s-.224.5-.5.5z"}),Object(c.jsx)("path",{d:"m14.5 19h-6c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h6c.276 0 .5.224.5.5s-.224.5-.5.5z"}),Object(c.jsx)("path",{d:"m10.5 17h-2c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h2c.276 0 .5.224.5.5s-.224.5-.5.5z"}),Object(c.jsx)("path",{d:"m18.5 7c-.276 0-.5-.224-.5-.5v-4c0-.827-.673-1.5-1.5-1.5h-9c-.827 0-1.5.673-1.5 1.5v4c0 .276-.224.5-.5.5s-.5-.224-.5-.5v-4c0-1.378 1.121-2.5 2.5-2.5h9c1.379 0 2.5 1.122 2.5 2.5v4c0 .276-.224.5-.5.5z"}),Object(c.jsx)("path",{d:"m16.5 24h-9c-1.379 0-2.5-1.122-2.5-2.5v-8c0-.276.224-.5.5-.5h13c.276 0 .5.224.5.5v8c0 1.378-1.121 2.5-2.5 2.5zm-10.5-10v7.5c0 .827.673 1.5 1.5 1.5h9c.827 0 1.5-.673 1.5-1.5v-7.5z"})]})})]}),l.map((function(e,n){return Object(c.jsx)("img",{className:"recipe_photo_detail",src:h(e),alt:"".concat(t).concat(n)})})),Object(c.jsxs)("div",{className:"info_section",children:[Object(c.jsx)("h3",{className:"recipe_name",children:t}),Object(c.jsx)("p",{className:"recipe_person",children:"Contributed By: ".concat(n)}),Object(c.jsx)("table",{className:"recipe_metadata",children:j.map((function(t){return e[t]?Object(c.jsxs)("tr",{className:"metadata_item",children:[Object(c.jsx)("td",{className:"metadata_key",children:p.c[t]}),Object(c.jsx)("td",{children:e[t]})]}):null}))}),o&&Object(c.jsx)("p",{className:"recipe_story",children:o})]}),Object(c.jsxs)("div",{className:"making_it_section",children:[Object(c.jsxs)("div",{className:"ingreds_wrapper",children:[Object(c.jsx)("strong",{className:"category_header",children:p.c.ingreds}),Object(c.jsx)("ul",{className:"ingreds_list",children:s.split("\n").filter((function(e){return e})).map((function(e,t){return Object(c.jsx)("li",{className:"ingred_item",children:e},"".concat(t).concat(e))}))})]}),Object(c.jsxs)("div",{className:"instructions_wrapper",children:[Object(c.jsx)("strong",{className:"category_header",children:p.c.instructions}),Object(c.jsx)("div",{children:i.split("\n").filter((function(e){return e})).map((function(e,t){return Object(c.jsx)("p",{children:e},"".concat(t).concat(e))}))})]})]})]})}function f(e){var t=e.name,n=e.person,r=e.photos,s=e.setFocus;return Object(c.jsxs)("div",{className:"recipe_tile",onClick:function(){return s(t)},children:[r?Object(c.jsx)("img",{className:"recipe_photo_thumbnail",src:h(r.split(", ")[0]),alt:t}):Object(c.jsx)("div",{className:"recipe_placeholder_thumbnail"}),Object(c.jsx)("p",{className:"recipe_tile_name",children:t}),Object(c.jsx)("p",{className:"recipe_tile_person",children:n})]})}function b(e){var t=e.recipes,n=e.filters,r=e.searchTerm,s=e.setFocusedRecipe;return Object(c.jsx)("div",{className:"recipes_container",children:t.map((function(e,t){var i=n.every((function(t){var n=t.key,c=t.value;return e[n]===c})),a=""===r||function(e){return Object.keys(e).reduce((function(t,n){return p.f.includes(n)?"".concat(t).concat(e[n]):t}),"")}(e).search(new RegExp(r,"i"))>=0;return i&&a?Object(c.jsx)(f,Object(l.a)({setFocus:s},e),"".concat(e.name," ").concat(t)):null}))})}function v(e){var t=e.setSearchTerm,n=e.searchTerm;return Object(c.jsxs)("div",{className:"search_container",children:[Object(c.jsx)("input",{onChange:function(e){return t(e.target.value)},placeholder:"Search...",value:n}),n&&Object(c.jsx)("i",{className:"clear_search_button",onClick:function(){return t("")},children:"\xd7"})]})}var g=n(9);function O(e){var t,n=e.filterKey,r=e.currentValue,s=e.allValues,i=e.setKeyFilter;return Object(c.jsx)("div",{className:"filter_container ".concat(n,"_filter"),children:Object(c.jsxs)("select",{onChange:function(e){var t=e.target.options[e.target.selectedIndex].value;i(n,t)},value:null!==r&&void 0!==r?r:"",children:[Object(c.jsx)("option",{value:"",children:"all ".concat((t=n,p.d[t]),"...")}),s.map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))]})})}var x=["person","raw_cat"];function _(e){var t=e.recipes,n=e.setFilters,r=e.filters,s=function(e,t){n(t?[].concat(Object(g.a)(r.filter((function(t){return t.key!==e}))),[{key:e,value:t}]):Object(g.a)(r.filter((function(t){return t.key!==e}))))},i=function(e){var t;return null===(t=r.find((function(t){return t.key===e})))||void 0===t?void 0:t.value},a=function(e){return t.map((function(t){return t[e]})).filter((function(e,t,n){return e&&n.indexOf(e)===t}))};return t?Object(c.jsxs)("div",{className:"filters_container",children:[x.map((function(e){return Object(c.jsx)(O,{filterKey:e,currentValue:i(e),allValues:a(e),setKeyFilter:s},e)})),r.length>0&&Object(c.jsx)("button",{onClick:function(){return n([])},children:"clear all"})]}):null}function N(e){var t=e.recipes,n=r.useState([]),s=Object(o.a)(n,2),i=s[0],a=s[1],u=r.useState(""),d=Object(o.a)(u,2),p=d[0],h=d[1],j=r.useState(null),f=Object(o.a)(j,2),g=f[0],O=f[1];return t?g?Object(c.jsx)(m,Object(l.a)({clearFocus:function(){return O(null)}},t.find((function(e){return e.name===g})))):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"controls_container",children:[Object(c.jsx)(v,{setSearchTerm:h,searchTerm:p}),Object(c.jsx)(_,{recipes:t,setFilters:a,filters:i})]}),Object(c.jsx)(b,{recipes:t,filters:i,searchTerm:p,setFocusedRecipe:O})]}):null}var y=n(13),k=[];var w=function(){var e=function(e){var t=r.useState({loaded:!1,error:!1}),n=Object(y.a)(t,2),c=n[0],s=n[1];return r.useEffect((function(){if(!k.includes(e)){k.push(e);var t=document.createElement("script");t.src=e,t.async=!0;var n=function(){s({loaded:!0,error:!1})},c=function(){var n=k.indexOf(e);n>=0&&k.splice(n,1),t.remove(),s({loaded:!0,error:!0})};return t.addEventListener("load",n),t.addEventListener("error",c),document.body.appendChild(t),function(){t.removeEventListener("load",n),t.removeEventListener("error",c)}}s({loaded:!0,error:!1})}),[e]),[c.loaded,c.error]}("https://apis.google.com/js/api.js"),t=Object(o.a)(e,2),n=t[0],s=t[1],i=r.useState(null),a=Object(o.a)(i,2),l=a[0],d=a[1];return Object(c.jsxs)("div",{className:"app_container",children:[Object(c.jsx)(u.a,{loaded:n,setRecipes:d}),s&&Object(c.jsx)("p",{children:"gapiError"}),l&&Object(c.jsx)(N,{recipes:l})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),s(e),i(e)}))};a.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(w,{})}),document.getElementById("root")),C()}},[[21,1,2]]]);
//# sourceMappingURL=main.3db8f025.chunk.js.map