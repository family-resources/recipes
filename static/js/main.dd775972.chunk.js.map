{"version":3,"sources":["constants.js","Recipe.js","Recipes.js","utils.js","SearchBar.js","Filter.js","Filters.js","useScript.js","App.js","reportWebVitals.js","index.js","Authentication.js"],"names":["CLIENT_ID","API_KEY","RECIPES_SHEET_ID","DISPLAY_NAMES_BY_KEY","name","person","raw_cat","raw_recipe","ingreds","instructions","story","source","cooking_time","preheat_temp","servings","photos","PLURAL_DISPLAY_NAMES_BY_KEY","SEARCHABLE_KEYS","PRINT_ONLY_PROPS","Recipe","props","printElRef","React","handlePrint","useReactToPrint","content","current","ref","className","onClick","title","id","enable-background","viewBox","xmlns","d","split","filter","i","map","index","p","src","alt","Recipes","recipes","filters","searchTerm","recipe","passesFilters","every","key","value","passesSearch","Object","keys","reduce","acc","includes","getSearchStringForRecipe","search","RegExp","SearchBar","setSearchTerm","onChange","e","target","placeholder","Filter","filterKey","currentValue","allValues","setKeyFilter","options","selectedIndex","FILTERABLE_KEYS","Filters","setFilters","f","getFilterValueForKey","find","getUniqueValuesForKey","r","all","indexOf","length","cachedScripts","App","loaded","error","state","setState","push","script","document","createElement","async","onScriptLoad","onScriptError","splice","remove","addEventListener","body","appendChild","removeEventListener","useScript","gapiLoaded","gapiError","setRecipes","Authentication","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","isLoggedIn","setIsLoggedIn","getRecipes","global","gapi","client","sheets","spreadsheets","values","get","spreadsheetId","range","response","rawRecipes","result","recipesNormalized","console","message","updateSigninStatus","isSignedIn","load","init","apiKey","clientId","discoveryDocs","scope","auth2","getAuthInstance","listen","JSON","stringify","event","signOut","signIn"],"mappings":"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","file":"static/js/main.dd775972.chunk.js","sourcesContent":["export const CLIENT_ID =\n  \"452500646277-1ghe20uhksl0eeidurc0bifcue2skevh.apps.googleusercontent.com\";\nconst DEV_KEY = \"AIzaSyAdcHAtEa90lkJQwgpirQNhg-K0hJq4agw\";\nconst PROD_KEY = \"AIzaSyArIxWcUVKS77HiW62vDeSPP7WDADJGSOQ\";\nexport const API_KEY =\n  process.env.NODE_ENV === \"production\" ? PROD_KEY : DEV_KEY;\n\nexport const RECIPES_SHEET_ID = \"1mlCIY1G-CW1EfNddv7tjEVJoXCz6TyXLcNfqLdBRkzU\";\n\nexport const DISPLAY_NAMES_BY_KEY = {\n  name: \"name\",\n  person: \"person\",\n  raw_cat: \"category\",\n  raw_recipe: \"raw recipe\",\n  ingreds: \"ingredients\",\n  instructions: \"instructions\",\n  story: \"story\",\n  source: \"source\",\n  cooking_time: \"cooking time\",\n  preheat_temp: \"preheat temperature\",\n  servings: \"servings\",\n  photos: \"photos\",\n};\n\nexport const PLURAL_DISPLAY_NAMES_BY_KEY = {\n  name: \"names\",\n  person: \"people\",\n  raw_cat: \"categories\",\n  raw_recipe: \"raw recipes\",\n  ingreds: \"ingredients\",\n  instructions: \"instructions\",\n  story: \"stories\",\n  source: \"sources\",\n  cooking_time: \"cooking times\",\n  preheat_temp: \"preheat temperatures\",\n  servings: \"servings\",\n  photos: \"photos\",\n};\n\nexport const SEARCHABLE_KEYS = [\n  \"name\",\n  \"person\",\n  \"raw_cat\",\n  \"ingreds\",\n  \"instructions\",\n  \"story\",\n  \"source\",\n  \"cooking_time\",\n  \"preheat_temp\",\n  \"servings\",\n];\n\n// color pallete\n\n/* Array */\nexport const COLOR_HEXES = [\"dde8b9\", \"e8d2ae\", \"d7b29d\", \"cb8589\", \"796465\"];\n\n/* Object */\nexport const COLOR_MAP = {\n  \"Pale Spring Bud\": \"dde8b9\",\n  Wheat: \"e8d2ae\",\n  Tumbleweed: \"d7b29d\",\n  \"Old Rose\": \"cb8589\",\n  \"Deep Taupe\": \"796465\",\n};\n\n/* Extended Array */\nexport const COLOR_MANIFEST = [\n  {\n    name: \"Pale Spring Bud\",\n    hex: \"dde8b9\",\n    rgb: [221, 232, 185],\n    cmyk: [5, 0, 20, 9],\n    hsb: [74, 20, 91],\n    hsl: [74, 51, 82],\n    lab: [90, -12, 22],\n  },\n  {\n    name: \"Wheat\",\n    hex: \"e8d2ae\",\n    rgb: [232, 210, 174],\n    cmyk: [0, 9, 25, 9],\n    hsb: [37, 25, 91],\n    hsl: [37, 56, 80],\n    lab: [85, 2, 21],\n  },\n  {\n    name: \"Tumbleweed\",\n    hex: \"d7b29d\",\n    rgb: [215, 178, 157],\n    cmyk: [0, 17, 27, 16],\n    hsb: [22, 27, 84],\n    hsl: [22, 42, 73],\n    lab: [75, 10, 16],\n  },\n  {\n    name: \"Old Rose\",\n    hex: \"cb8589\",\n    rgb: [203, 133, 137],\n    cmyk: [0, 34, 33, 20],\n    hsb: [357, 34, 80],\n    hsl: [357, 40, 66],\n    lab: [63, 27, 9],\n  },\n  {\n    name: \"Deep Taupe\",\n    hex: \"796465\",\n    rgb: [121, 100, 101],\n    cmyk: [0, 17, 17, 53],\n    hsb: [357, 17, 47],\n    hsl: [357, 10, 43],\n    lab: [44, 9, 3],\n  },\n];\n","import * as React from \"react\";\nimport { useReactToPrint } from \"react-to-print\";\nimport { DISPLAY_NAMES_BY_KEY } from \"./constants\";\n\nconst PRINT_ONLY_PROPS = [\n  \"story\",\n  \"source\",\n  \"cooking_time\",\n  \"preheat_temp\",\n  \"servings\",\n];\nexport function Recipe(props) {\n  const { name, person, ingreds, instructions, photos } = props;\n\n  const printElRef = React.useRef();\n  const handlePrint = useReactToPrint({\n    content: () => printElRef.current,\n  });\n\n  return (\n    <div ref={printElRef} className=\"recipe_container\">\n      <button\n        onClick={handlePrint}\n        title=\"print this recipe\"\n        className=\"print_recipe_button\"\n      >\n        <svg\n          id=\"_x31__px\"\n          enable-background=\"new 0 0 24 24\"\n          viewBox=\"0 0 24 24\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path d=\"m21.5 18h-3c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h3c.827 0 1.5-.673 1.5-1.5v-7c0-.827-.673-1.5-1.5-1.5h-19c-.827 0-1.5.673-1.5 1.5v7c0 .827.673 1.5 1.5 1.5h3c.276 0 .5.224.5.5s-.224.5-.5.5h-3c-1.379 0-2.5-1.122-2.5-2.5v-7c0-1.378 1.121-2.5 2.5-2.5h19c1.379 0 2.5 1.122 2.5 2.5v7c0 1.378-1.121 2.5-2.5 2.5z\" />\n          <path d=\"m14.5 21h-6c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h6c.276 0 .5.224.5.5s-.224.5-.5.5z\" />\n          <path d=\"m14.5 19h-6c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h6c.276 0 .5.224.5.5s-.224.5-.5.5z\" />\n          <path d=\"m10.5 17h-2c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h2c.276 0 .5.224.5.5s-.224.5-.5.5z\" />\n          <path d=\"m18.5 7c-.276 0-.5-.224-.5-.5v-4c0-.827-.673-1.5-1.5-1.5h-9c-.827 0-1.5.673-1.5 1.5v4c0 .276-.224.5-.5.5s-.5-.224-.5-.5v-4c0-1.378 1.121-2.5 2.5-2.5h9c1.379 0 2.5 1.122 2.5 2.5v4c0 .276-.224.5-.5.5z\" />\n          <path d=\"m16.5 24h-9c-1.379 0-2.5-1.122-2.5-2.5v-8c0-.276.224-.5.5-.5h13c.276 0 .5.224.5.5v8c0 1.378-1.121 2.5-2.5 2.5zm-10.5-10v7.5c0 .827.673 1.5 1.5 1.5h9c.827 0 1.5-.673 1.5-1.5v-7.5z\" />\n        </svg>\n      </button>\n      <h3 className=\"recipe_name\">{name}</h3>\n      <h5 className=\"recipe_person\">{person}</h5>\n      <strong className=\"category_header\">\n        {DISPLAY_NAMES_BY_KEY.ingreds}\n      </strong>\n      <ul>\n        {ingreds\n          .split(\"\\n\")\n          .filter((i) => i)\n          .map((i, index) => (\n            <li key={`${index}${i}`}>{i}</li>\n          ))}\n      </ul>\n      <strong className=\"category_header\">\n        {DISPLAY_NAMES_BY_KEY.instructions}\n      </strong>\n      <div>\n        {instructions\n          .split(\"\\n\")\n          .filter((i) => i)\n          .map((i, index) => (\n            <p key={`${index}${i}`}>{i}</p>\n          ))}\n      </div>\n      {photos && photos.map((p) => <img src={p} alt={name} />)}\n      <div className=\"print_only\">\n        {PRINT_ONLY_PROPS.map((p) =>\n          props[p] ? (\n            <label className=\"print_only_item\">\n              <strong className=\"category_header\">\n                {DISPLAY_NAMES_BY_KEY[p]}\n              </strong>\n              <p>{props[p]}</p>\n            </label>\n          ) : null\n        )}\n      </div>\n    </div>\n  );\n}\n","import * as React from \"react\";\nimport { Recipe } from \"./Recipe\";\nimport { getSearchStringForRecipe } from \"./utils\";\n\nexport function Recipes(props) {\n  const { recipes, filters, searchTerm } = props;\n\n  return recipes ? (\n    <div className=\"recipes_container\">\n      {recipes.map((recipe, index) => {\n        const passesFilters = filters.every(({ key, value }) => {\n          return recipe[key] === value;\n        });\n        const passesSearch =\n          searchTerm === \"\" ||\n          getSearchStringForRecipe(recipe).search(\n            new RegExp(searchTerm, \"i\")\n          ) >= 0;\n        return passesFilters && passesSearch ? (\n          <Recipe key={`${recipe.name} ${index}`} {...recipe} />\n        ) : null;\n      })}\n    </div>\n  ) : null;\n}\n","import {\n  DISPLAY_NAMES_BY_KEY,\n  PLURAL_DISPLAY_NAMES_BY_KEY,\n  SEARCHABLE_KEYS,\n} from \"./constants\";\n\nexport function getKeyDisplayName(key) {\n  return DISPLAY_NAMES_BY_KEY[key];\n}\n\nexport function getKeyPluralDisplayName(key) {\n  return PLURAL_DISPLAY_NAMES_BY_KEY[key];\n}\n\nexport function getSearchStringForRecipe(recipe) {\n  return Object.keys(recipe).reduce(\n    (acc, key) =>\n      SEARCHABLE_KEYS.includes(key) ? `${acc}${recipe[key]}` : acc,\n    \"\"\n  );\n}\n","import * as React from \"react\";\n\nexport function SearchBar(props) {\n  const { setSearchTerm, searchTerm } = props;\n\n  return (\n    <div className=\"search_container\">\n      <input\n        onChange={(e) => setSearchTerm(e.target.value)}\n        placeholder=\"Search...\"\n        value={searchTerm}\n      ></input>\n      {searchTerm && (\n        <i className=\"clear_search_button\" onClick={() => setSearchTerm(\"\")}>\n          &times;\n        </i>\n      )}\n    </div>\n  );\n}\n","import * as React from \"react\";\nimport { getKeyPluralDisplayName } from \"./utils\";\n\nexport function Filter(props) {\n  const { filterKey, currentValue, allValues, setKeyFilter } = props;\n  return (\n    <div className={`filter_container ${filterKey}_filter`}>\n      <select\n        onChange={(e) => {\n          const options = e.target.options;\n          const index = e.target.selectedIndex;\n          const value = options[index].value;\n          setKeyFilter(filterKey, value);\n        }}\n        value={currentValue ?? \"\"}\n      >\n        <option value={\"\"}>{`all ${getKeyPluralDisplayName(\n          filterKey\n        )}...`}</option>\n        {allValues.map((value) => (\n          <option key={value} value={value}>\n            {value}\n          </option>\n        ))}\n      </select>\n    </div>\n  );\n}\n","import * as React from \"react\";\nimport { Filter } from \"./Filter\";\n\nconst FILTERABLE_KEYS = [\"person\", \"raw_cat\"];\n\nexport function Filters(props) {\n  const { recipes, setFilters, filters } = props;\n\n  const setKeyFilter = (key, value) => {\n    if (value) {\n      setFilters([...filters.filter((f) => f.key !== key), { key, value }]);\n    } else {\n      setFilters([...filters.filter((f) => f.key !== key)]);\n    }\n  };\n\n  const getFilterValueForKey = (key) =>\n    filters.find((f) => f.key === key)?.value;\n\n  const getUniqueValuesForKey = (key) =>\n    recipes\n      .map((r) => r[key])\n      .filter((value, index, all) => value && all.indexOf(value) === index);\n\n  return recipes ? (\n    <div className=\"filters_container\">\n      {FILTERABLE_KEYS.map((key) => (\n        <Filter\n          key={key}\n          filterKey={key}\n          currentValue={getFilterValueForKey(key)}\n          allValues={getUniqueValuesForKey(key)}\n          setKeyFilter={setKeyFilter}\n        />\n      ))}\n      {filters.length > 0 && (\n        <button onClick={() => setFilters([])}>clear all</button>\n      )}\n    </div>\n  ) : null;\n}\n","import * as React from \"react\";\n\nlet cachedScripts = [];\n\nexport function useScript(src) {\n  const [state, setState] = React.useState({\n    loaded: false,\n    error: false,\n  });\n\n  React.useEffect(\n    () => {\n      // If cachedScripts array already includes src that means another instance ...\n      // ... of this hook already loaded this script, so no need to load again.\n      if (cachedScripts.includes(src)) {\n        setState({ loaded: true, error: false });\n      } else {\n        cachedScripts.push(src);\n        // Create script\n        let script = document.createElement(\"script\");\n        script.src = src;\n        script.async = true;\n        // Script event listener callbacks for load and error\n        const onScriptLoad = () => {\n          setState({ loaded: true, error: false });\n        };\n\n        const onScriptError = () => {\n          // Remove from cachedScripts we can try loading again\n          const index = cachedScripts.indexOf(src);\n          if (index >= 0) cachedScripts.splice(index, 1);\n          script.remove();\n          setState({ loaded: true, error: true });\n        };\n        script.addEventListener(\"load\", onScriptLoad);\n        script.addEventListener(\"error\", onScriptError);\n        // Add script to document body\n        document.body.appendChild(script);\n        // Remove event listeners on cleanup\n        return () => {\n          script.removeEventListener(\"load\", onScriptLoad);\n          script.removeEventListener(\"error\", onScriptError);\n        };\n      }\n    },\n    [src] // Only re-run effect if script src changes\n  );\n  return [state.loaded, state.error];\n}\n","import * as React from \"react\";\nimport \"./App.css\";\nimport { Authentication } from \"./Authentication\";\nimport { Recipes } from \"./Recipes\";\nimport { SearchBar } from \"./SearchBar\";\nimport { Filters } from \"./Filters\";\nimport { useScript } from \"./useScript\";\n\nfunction App() {\n  const [gapiLoaded, gapiError] = useScript(\n    \"https://apis.google.com/js/api.js\"\n  );\n  const [recipes, setRecipes] = React.useState(null);\n  const [filters, setFilters] = React.useState([]);\n  const [searchTerm, setSearchTerm] = React.useState(\"\");\n\n  return (\n    <div className=\"app_container\">\n      <Authentication loaded={gapiLoaded} setRecipes={setRecipes} />\n      {gapiError && <p>gapiError</p>}\n      {recipes && (\n        <>\n          <div className=\"controls_container\">\n            <SearchBar setSearchTerm={setSearchTerm} searchTerm={searchTerm} />\n            <Filters\n              recipes={recipes}\n              setFilters={setFilters}\n              filters={filters}\n            />\n          </div>\n          <Recipes\n            recipes={recipes}\n            filters={filters}\n            searchTerm={searchTerm}\n          />\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import * as React from \"react\";\nimport { API_KEY, CLIENT_ID, RECIPES_SHEET_ID } from \"./constants\";\n\nexport function Authentication({ loaded, setRecipes }): React.Node {\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n\n  /**\n   * Print the contents of the spreadsheet\n   * https://docs.google.com/spreadsheets/d/1mlCIY1G-CW1EfNddv7tjEVJoXCz6TyXLcNfqLdBRkzU/edit#gid=1825319816\n   */\n  const getRecipes = React.useCallback(() => {\n    global.gapi.client.sheets.spreadsheets.values\n      .get({\n        spreadsheetId: RECIPES_SHEET_ID,\n        range: \"Recipes!A2:L92\",\n      })\n      .then(\n        (response) => {\n          const rawRecipes = response.result.values;\n          if (rawRecipes.length > 0) {\n            const recipesNormalized = rawRecipes.map((r) => {\n              const [\n                name,\n                person,\n                raw_cat,\n                raw_recipe,\n                ingreds,\n                instructions,\n                story,\n                source,\n                cooking_time,\n                preheat_temp,\n                servings,\n                photos,\n              ] = r;\n              return {\n                name,\n                person,\n                raw_cat,\n                raw_recipe,\n                ingreds,\n                instructions,\n                story,\n                source,\n                cooking_time,\n                preheat_temp,\n                servings,\n                photos,\n              };\n            });\n            setRecipes(recipesNormalized);\n          } else {\n            console.error(\"No Data Found\");\n          }\n        },\n        function (response) {\n          console.error(\"Error: \" + response.result.error.message);\n        }\n      );\n  }, [setRecipes]);\n\n  React.useEffect(() => {\n    const { gapi } = global;\n    if (loaded) {\n      function updateSigninStatus(isSignedIn) {\n        if (isSignedIn) {\n          setIsLoggedIn(true);\n          getRecipes();\n        } else {\n          setIsLoggedIn(false);\n        }\n      }\n      if (gapi) {\n        gapi.load(\"client:auth2\", () => {\n          gapi.client\n            .init({\n              apiKey: API_KEY,\n              clientId: CLIENT_ID,\n              discoveryDocs: [\n                \"https://sheets.googleapis.com/$discovery/rest?version=v4\",\n              ],\n              scope: \"https://www.googleapis.com/auth/spreadsheets.readonly\",\n            })\n            .then(\n              function () {\n                // Listen for sign-in state changes.\n                gapi.auth2\n                  .getAuthInstance()\n                  .isSignedIn.listen(updateSigninStatus);\n\n                // Handle the initial sign-in state.\n                updateSigninStatus(\n                  gapi.auth2.getAuthInstance().isSignedIn.get()\n                );\n              },\n              function (error) {\n                console.error(JSON.stringify(error, null, 2));\n              }\n            );\n        });\n      }\n    }\n  }, [loaded, getRecipes]);\n\n  function handleAuthClick(event) {\n    global.gapi.auth2.getAuthInstance().signIn();\n  }\n\n  function handleSignoutClick(event) {\n    global.gapi.auth2.getAuthInstance().signOut();\n  }\n  return (\n    <div\n      className={`auth_container ${\n        isLoggedIn ? \"logged_in\" : \"not_authorized\"\n      }`}\n    >\n      {isLoggedIn ? (\n        <button className=\"logout_button\" onClick={handleSignoutClick}>\n          LOGOUT\n        </button>\n      ) : (\n        <button className=\"authorize_button\" onClick={handleAuthClick}>\n          AUTHORIZE WITH GOOGLE ACCOUNT\n        </button>\n      )}\n    </div>\n  );\n}\n"],"sourceRoot":""}