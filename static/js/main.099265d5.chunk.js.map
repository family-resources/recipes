{"version":3,"sources":["AddRecipe.js","Authentication.js","constants.js","utils.js","RecipeDetails.js","RecipeTile.js","RecipeGrid.js","SearchBar.js","Filter.js","Filters.js","Home.js","useScript.js","NavBar.js","About.js","App.js","index.js"],"names":["ShortTextField","props","htmlFor","name","className","label","LongTextField","CategoryField","isClearable","onChange","handleChange","onInputChange","options","INITIAL_FORM","person","raw_cat","ingreds","instructions","story","source","cooking_time","preheat_temp","servings","AddRecipe","recipes","photoFileInputRef","React","prevState","key","value","formState","dispatchFormUpdate","categoryOptions","reduce","acc","r","some","o","onSubmit","e","preventDefault","console","log","current","files","allFormState","timestamp","Date","raw_recipe","photos","id","uuidv4","appendRowRequestBody","values","KEYS_IN_ORDER","map","global","gapi","client","sheets","spreadsheets","append","spreadsheetId","RECIPES_SHEET_ID","range","RECIPES_SHEET_RANGE","valueInputOption","then","response","result","reason","error","message","placeholder","target","required","type","ref","Authentication","loaded","setRecipes","isLoggedIn","setIsLoggedIn","getRecipes","get","rawRecipes","length","recipesNormalized","alt_cat","updateSigninStatus","isSignedIn","load","init","apiKey","API_KEY","clientId","CLIENT_ID","discoveryDocs","scope","G_AUTH_SCOPES","auth2","getAuthInstance","listen","JSON","stringify","onClick","event","signOut","width","height","version","x","y","viewBox","d","signIn","join","DISPLAY_NAMES_BY_KEY","PLURAL_DISPLAY_NAMES_BY_KEY","SEARCHABLE_KEYS","formatPhotoLink","raw_uri","match","RegExp","path","METADATA_PROPS","RecipeDetails","recipeId","useParams","printElRef","handlePrint","useReactToPrint","content","currentRecipe","find","photoUris","split","title","enableBackground","xmlns","p","i","src","alt","filter","index","RecipeTile","to","RecipeGrid","filters","searchTerm","recipe","passesFilters","every","passesSearch","Object","keys","includes","getSearchStringForRecipe","search","SearchBar","setSearchTerm","Filter","filterKey","currentValue","allValues","setKeyFilter","selectedIndex","FILTERABLE_KEYS","Filters","setFilters","f","getFilterValueForKey","getUniqueValuesForKey","all","indexOf","Home","cachedScripts","NavBar","pathname","useLocation","state","setState","push","script","document","createElement","async","onScriptLoad","onScriptError","splice","remove","addEventListener","body","appendChild","removeEventListener","useScript","gapiLoaded","gapiError","NavLink","children","About","rel","href","App","basename","exact","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.099265d5.chunk.js","sourcesContent":["import { v4 as uuidv4 } from \"uuid\";\nimport * as React from \"react\";\nimport CreatableSelect from \"react-select/creatable\";\n\nimport {\n  RECIPES_SHEET_ID,\n  RECIPES_SHEET_RANGE,\n  KEYS_IN_ORDER,\n} from \"./constants\";\n\nfunction ShortTextField(props) {\n  return (\n    <label\n      htmlFor={props.name}\n      className={`add_recipe_field_label ${props.name}`}\n    >\n      {props.label}\n      <input className=\"short_text_field\" {...props}></input>\n    </label>\n  );\n}\nfunction LongTextField(props) {\n  return (\n    <label\n      htmlFor={props.name}\n      className={`add_recipe_field_label ${props.name}`}\n    >\n      {props.label}\n      <textarea className=\"long_text_field\" {...props}></textarea>\n    </label>\n  );\n}\nfunction CategoryField(props) {\n  return (\n    <label\n      htmlFor={props.name}\n      className={`add_recipe_field_label ${props.name}`}\n    >\n      {props.label}\n      <CreatableSelect\n        isClearable\n        onChange={props.handleChange}\n        onInputChange={props.handleChange}\n        options={props.options}\n        className=\"category_field\"\n      />\n    </label>\n  );\n}\n\nconst INITIAL_FORM = {\n  name: \"\",\n  person: \"\",\n  raw_cat: \"\",\n  ingreds: \"\",\n  instructions: \"\",\n  story: \"\",\n  source: \"\",\n  cooking_time: \"\",\n  preheat_temp: \"\",\n  servings: \"\",\n};\n\nexport function AddRecipe(props) {\n  const { recipes } = props;\n  const photoFileInputRef = React.useRef();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    console.log(formState);\n    console.log(\"PHOTO FILE \", photoFileInputRef.current.files[0]);\n    const allFormState = {\n      ...formState,\n      timestamp: new Date(),\n      raw_recipe: \"\",\n      photos: \"\", // TODO: upload photos to drive first photoFileInputRef.current.files[0],\n      id: uuidv4(), // spreadsheet macro does not handle id when submitted via api\n    };\n    const appendRowRequestBody = {\n      values: [KEYS_IN_ORDER.map((key) => allFormState[key])], // NOTE: must be 2d array\n    };\n    // TODO: handle upload of photos\n    // if (allFormState.photos != null) {\n    //   const request = global.gapi.request({\n    //     path: \"/upload/drive/v4/files\",\n    //     method: \"POST\",\n    //     params: { uploadType: \"multipart\" },\n    //     headers: {\n    //       \"Content-Type\": 'multipart/mixed;',\n    //     },\n    //   });\n    // }\n    const request = global.gapi.client.sheets.spreadsheets.values.append(\n      {\n        spreadsheetId: RECIPES_SHEET_ID,\n        range: RECIPES_SHEET_RANGE,\n        valueInputOption: \"USER_ENTERED\",\n      },\n      appendRowRequestBody\n    );\n    request.then(\n      function (response) {\n        console.log(response.result);\n      },\n      function (reason) {\n        console.error(\"error: \" + reason.result.error.message);\n      }\n    );\n  };\n  function formReducer(prevState, { key, value }) {\n    return { ...prevState, [key]: value };\n  }\n\n  const [formState, dispatchFormUpdate] = React.useReducer(\n    formReducer,\n    INITIAL_FORM\n  );\n\n  const categoryOptions = recipes\n    ? recipes.reduce((acc, r) => {\n        const { raw_cat } = r;\n        return acc.some((o) => o.value === raw_cat)\n          ? acc\n          : [...acc, { value: raw_cat, label: raw_cat }];\n      }, [])\n    : [];\n\n  return (\n    <div className=\"add_recipe_form_wrapper\">\n      <form onSubmit={handleSubmit} className=\"add_recipe_form\">\n        <div className=\"add_recipe_form_row\">\n          <ShortTextField\n            label=\"recipe title\"\n            placeholder=\"Pumpkin Bread...\"\n            onChange={({ target: { value } }) =>\n              dispatchFormUpdate({ key: \"name\", value })\n            }\n            value={formState.name}\n            required\n          />\n          <ShortTextField\n            name=\"person\"\n            label=\"your name\"\n            placeholder=\"Suzanne Cooper...\"\n            onChange={({ target: { value } }) =>\n              dispatchFormUpdate({ key: \"person\", value })\n            }\n            value={formState.person}\n            required\n          />\n          <CategoryField\n            name=\"raw_cat\"\n            label=\"category\"\n            handleChange={(value) =>\n              dispatchFormUpdate({ key: \"raw_cat\", value })\n            }\n            value={formState.raw_cat}\n            options={categoryOptions}\n            required\n          />\n        </div>\n\n        <div className=\"add_recipe_form_row\">\n          <LongTextField\n            name=\"ingreds\"\n            label=\"ingredients list\"\n            placeholder=\"One ingredient (w/ measurement) per line...\"\n            onChange={({ target: { value } }) =>\n              dispatchFormUpdate({ key: \"ingreds\", value })\n            }\n            value={formState.ingreds}\n            required\n          />\n          <LongTextField\n            name=\"instructions\"\n            label=\"instructions\"\n            placeholder=\"List preparation steps...\"\n            onChange={({ target: { value } }) =>\n              dispatchFormUpdate({ key: \"instructions\", value })\n            }\n            value={formState.instructions}\n            required\n          />\n        </div>\n        <div className=\"add_recipe_form_row\">\n          <ShortTextField\n            name=\"cooking_time\"\n            label=\"cooking time\"\n            placeholder=\"2 hours...\"\n            onChange={({ target: { value } }) =>\n              dispatchFormUpdate({ key: \"cooking_time\", value })\n            }\n            value={formState.cooking_time}\n          />\n          <ShortTextField\n            name=\"preheat_temp\"\n            label=\"oven temperature\"\n            placeholder=\"if applicable...\"\n            onChange={({ target: { value } }) =>\n              dispatchFormUpdate({ key: \"preheat_temp\", value })\n            }\n            value={formState.preheat_temp}\n          />\n          <ShortTextField\n            name=\"servings\"\n            label=\"serving size\"\n            placeholder=\"4 people, 10 cookies, etc...\"\n            onChange={({ target: { value } }) =>\n              dispatchFormUpdate({ key: \"servings\", value })\n            }\n            value={formState.servings}\n          />\n        </div>\n\n        <LongTextField\n          name=\"story\"\n          label=\"backstory\"\n          placeholder=\"What is this recipe's backstory?\"\n          onChange={({ target: { value } }) =>\n            dispatchFormUpdate({ key: \"story\", value })\n          }\n          value={formState.story}\n        />\n\n        <div className=\"add_recipe_form_row\">\n          <ShortTextField\n            name=\"source\"\n            label=\"original source\"\n            placeholder=\"Julia Child, Bisquick Box...\"\n            onChange={({ target: { value } }) =>\n              dispatchFormUpdate({ key: \"source\", value })\n            }\n            value={formState.source}\n          />\n          <label\n            htmlFor=\"photos\"\n            className={`add_recipe_field_label ${props.name}`}\n          >\n            photos\n            <input\n              type=\"file\"\n              className=\"file_upload_field\"\n              name=\"photos\"\n              ref={photoFileInputRef}\n            />\n          </label>\n        </div>\n        <button type=\"submit\" className=\"add_recipe_submit_button\">\n          SUBMIT RECIPE\n        </button>\n      </form>\n    </div>\n  );\n}\n","import * as React from \"react\";\nimport {\n  API_KEY,\n  CLIENT_ID,\n  RECIPES_SHEET_ID,\n  RECIPES_SHEET_RANGE,\n  G_AUTH_SCOPES,\n} from \"./constants\";\n\nexport function Authentication({ loaded, setRecipes }): React.Node {\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n\n  /**\n   * Print the contents of the spreadsheet\n   * https://docs.google.com/spreadsheets/d/1mlCIY1G-CW1EfNddv7tjEVJoXCz6TyXLcNfqLdBRkzU/edit#gid=1825319816\n   */\n  const getRecipes = React.useCallback(() => {\n    global.gapi.client.sheets.spreadsheets.values\n      .get({\n        spreadsheetId: RECIPES_SHEET_ID,\n        range: RECIPES_SHEET_RANGE,\n      })\n      .then(\n        (response) => {\n          const rawRecipes = response.result.values;\n          if (rawRecipes.length > 0) {\n            const recipesNormalized = rawRecipes.map((r) => {\n              const [\n                timestamp,\n                person,\n                name,\n                raw_cat,\n                alt_cat,\n                ingreds,\n                instructions,\n                story,\n                source,\n                cooking_time,\n                servings,\n                photos,\n                preheat_temp,\n                raw_recipe,\n                id,\n              ] = r;\n              return {\n                name,\n                person,\n                raw_cat,\n                raw_recipe,\n                ingreds,\n                instructions,\n                story,\n                source,\n                cooking_time,\n                preheat_temp,\n                servings,\n                photos,\n                timestamp,\n                alt_cat,\n                id,\n              };\n            });\n            setRecipes(recipesNormalized);\n          } else {\n            console.error(\"No Data Found\");\n          }\n        },\n        function (response) {\n          console.error(\"Error: \" + response.result.error.message);\n        }\n      );\n  }, [setRecipes]);\n\n  React.useEffect(() => {\n    const { gapi } = global;\n    if (loaded) {\n      function updateSigninStatus(isSignedIn) {\n        if (isSignedIn) {\n          setIsLoggedIn(true);\n          getRecipes();\n        } else {\n          setIsLoggedIn(false);\n        }\n      }\n      if (gapi) {\n        gapi.load(\"client:auth2\", () => {\n          gapi.client\n            .init({\n              apiKey: API_KEY,\n              clientId: CLIENT_ID,\n              discoveryDocs: [\n                \"https://sheets.googleapis.com/$discovery/rest?version=v4\",\n              ],\n              scope: G_AUTH_SCOPES,\n            })\n            .then(\n              function () {\n                // Listen for sign-in state changes.\n                gapi.auth2\n                  .getAuthInstance()\n                  .isSignedIn.listen(updateSigninStatus);\n\n                // Handle the initial sign-in state.\n                updateSigninStatus(\n                  gapi.auth2.getAuthInstance().isSignedIn.get()\n                );\n              },\n              function (error) {\n                console.error(JSON.stringify(error, null, 2));\n              }\n            );\n        });\n      }\n    }\n  }, [loaded, getRecipes]);\n\n  function handleAuthClick(event) {\n    console.log(global.gapi);\n    console.log(global.gapi.auth2);\n    console.log(global.gapi.auth2.getAuthInstance());\n    global.gapi.auth2.getAuthInstance().signIn();\n  }\n\n  function handleSignoutClick(event) {\n    global.gapi.auth2.getAuthInstance().signOut();\n    setRecipes(null);\n  }\n  return (\n    <div\n      className={`auth_container ${\n        isLoggedIn ? \"logged_in\" : \"not_authorized\"\n      }`}\n    >\n      {isLoggedIn ? (\n        <button className=\"logout_button\" onClick={handleSignoutClick}>\n          <svg\n            width=\"24px\"\n            height=\"24px\"\n            version=\"1.1\"\n            x=\"0px\"\n            y=\"0px\"\n            viewBox=\"0 0 511.989 511.989\"\n          >\n            <g>\n              <path\n                d=\"M110.933,221.782c-4.71,0-8.533,3.823-8.533,8.533v51.2c0,4.71,3.823,8.533,8.533,8.533s8.533-3.823,8.533-8.533v-51.2\n\t\t\t\tC119.467,225.605,115.644,221.782,110.933,221.782z\"\n              />\n              <path\n                d=\"M111.855,2.304L31.172,34.586C8.448,43,0,54.418,0,76.715v358.477c0,22.298,8.448,33.715,30.959,42.061l81.058,32.427\n\t\t\t\tc4.011,1.519,8.038,2.287,11.981,2.287c17.152,0,29.602-14.336,29.602-34.091V34.049C153.6,9.78,134.246-6.126,111.855,2.304z\n\t\t\t\t M136.533,477.876c0,10.18-5.035,17.024-12.535,17.024c-1.869,0-3.883-0.401-5.803-1.118L37.103,461.33\n\t\t\t\tc-16.102-5.965-20.036-11.102-20.036-26.138V76.715c0-15.036,3.934-20.164,20.241-26.206l80.725-32.29\n\t\t\t\tc2.082-0.785,4.087-1.186,5.956-1.186c7.501,0,12.544,6.835,12.544,17.016V477.876z\"\n              />\n              <path\n                d=\"M178.133,51.115h120.533c14.114,0,25.6,11.486,25.6,25.6v128c0,4.71,3.814,8.533,8.533,8.533\n\t\t\t\tc4.719,0,8.533-3.823,8.533-8.533v-128c0-23.526-19.14-42.667-42.667-42.667H178.133c-4.71,0-8.533,3.823-8.533,8.533\n\t\t\t\tS173.423,51.115,178.133,51.115z\"\n              />\n              <path\n                d=\"M332.8,298.582c-4.719,0-8.533,3.823-8.533,8.533v128c0,14.114-11.486,25.6-25.6,25.6H179.2\n\t\t\t\tc-4.71,0-8.533,3.823-8.533,8.533s3.823,8.533,8.533,8.533h119.467c23.526,0,42.667-19.14,42.667-42.667v-128\n\t\t\t\tC341.333,302.405,337.519,298.582,332.8,298.582z\"\n              />\n              <path\n                d=\"M511.343,252.655c-0.435-1.05-1.058-1.988-1.852-2.782l-85.325-85.333c-3.337-3.336-8.73-3.336-12.066,0\n\t\t\t\tc-3.337,3.337-3.337,8.73,0,12.066l70.767,70.775H196.267c-4.71,0-8.533,3.823-8.533,8.533c0,4.71,3.823,8.533,8.533,8.533\n\t\t\t\th286.601L412.1,335.215c-3.337,3.337-3.337,8.73,0,12.066c1.664,1.664,3.849,2.5,6.033,2.5c2.185,0,4.369-0.836,6.033-2.5\n\t\t\t\tl85.325-85.325c0.794-0.794,1.417-1.732,1.852-2.782C512.205,257.093,512.205,254.738,511.343,252.655z\"\n              />\n            </g>\n          </svg>\n        </button>\n      ) : (\n        <button className=\"authorize_button\" onClick={handleAuthClick}>\n          AUTHORIZE WITH GOOGLE ACCOUNT\n        </button>\n      )}\n    </div>\n  );\n}\n","export const CLIENT_ID =\n  \"452500646277-1ghe20uhksl0eeidurc0bifcue2skevh.apps.googleusercontent.com\";\nconst DEV_KEY = \"AIzaSyAdcHAtEa90lkJQwgpirQNhg-K0hJq4agw\";\nconst PROD_KEY = \"AIzaSyArIxWcUVKS77HiW62vDeSPP7WDADJGSOQ\";\nexport const API_KEY =\n  process.env.NODE_ENV === \"production\" ? PROD_KEY : DEV_KEY;\n\nconst SCOPE_DRIVE = \"https://www.googleapis.com/auth/drive\";\nconst SCOPE_DRIVE_FILE = \"https://www.googleapis.com/auth/drive.file\";\nconst SCOPE_DRIVE_RO = \" https://www.googleapis.com/auth/drive.readonly\";\nconst SCOPE_SPREADSHEETS = \"https://www.googleapis.com/auth/spreadsheets\";\nconst SCOPE_SPREADSHEETS_RO =\n  \"https://www.googleapis.com/auth/spreadsheets.readonly\";\nexport const G_AUTH_SCOPES = [\n  SCOPE_DRIVE,\n  SCOPE_DRIVE_FILE,\n  SCOPE_DRIVE_RO,\n  SCOPE_SPREADSHEETS,\n  SCOPE_SPREADSHEETS_RO,\n].join(\" \");\n\nexport const RECIPES_SHEET_ID = \"1mlCIY1G-CW1EfNddv7tjEVJoXCz6TyXLcNfqLdBRkzU\";\nexport const RECIPES_SHEET_RANGE = \"Recipes!A2:O\";\n\nexport const FIELD_TYPE = {\n  SHORT_TEXT: \"short_text\",\n  LONG_TEXT: \"long_text\",\n  FILE_UPLOAD: \"file_upload\",\n  CAT_SELECT: \"cat_select\",\n};\n\nexport const DISPLAY_NAMES_BY_KEY = {\n  name: \"name\",\n  person: \"person\",\n  raw_cat: \"category\",\n  raw_recipe: \"raw recipe\",\n  ingreds: \"ingredients\",\n  instructions: \"preparation\",\n  story: \"story\",\n  source: \"source\",\n  cooking_time: \"cooking time\",\n  preheat_temp: \"preheat temperature\",\n  servings: \"servings\",\n  photos: \"photos\",\n  timestamp: \"when recipe was added\",\n  alt_cat: \"alternate category (if non-canonical)\",\n  id: \"unique identifier\",\n};\n\nexport const PLURAL_DISPLAY_NAMES_BY_KEY = {\n  name: \"names\",\n  person: \"people\",\n  raw_cat: \"categories\",\n  raw_recipe: \"raw recipes\",\n  ingreds: \"ingredients\",\n  instructions: \"preparation\",\n  story: \"stories\",\n  source: \"sources\",\n  cooking_time: \"cooking times\",\n  preheat_temp: \"preheat temperatures\",\n  servings: \"servings\",\n  photos: \"photos\",\n};\n\nexport const KEYS_IN_ORDER = [\n  \"timestamp\",\n  \"person\",\n  \"name\",\n  \"raw_cat\",\n  \"alt_cat\",\n  \"ingreds\",\n  \"instructions\",\n  \"story\",\n  \"source\",\n  \"cooking_time\",\n  \"servings\",\n  \"photos\",\n  \"preheat_temp\",\n  \"raw_recipe\",\n  \"id\",\n];\n\nexport const SEARCHABLE_KEYS = [\n  \"name\",\n  \"person\",\n  \"raw_cat\",\n  \"ingreds\",\n  \"instructions\",\n  \"story\",\n  \"source\",\n  \"cooking_time\",\n  \"preheat_temp\",\n  \"servings\",\n];\n\n// color pallete\n\n/* Array */\nexport const COLOR_HEXES = [\"dde8b9\", \"e8d2ae\", \"d7b29d\", \"cb8589\", \"796465\"];\n\n/* Object */\nexport const COLOR_MAP = {\n  \"Pale Spring Bud\": \"dde8b9\",\n  Wheat: \"e8d2ae\",\n  Tumbleweed: \"d7b29d\",\n  \"Old Rose\": \"cb8589\",\n  \"Deep Taupe\": \"796465\",\n};\n\n/* Extended Array */\nexport const COLOR_MANIFEST = [\n  {\n    name: \"Pale Spring Bud\",\n    hex: \"dde8b9\",\n    rgb: [221, 232, 185],\n    cmyk: [5, 0, 20, 9],\n    hsb: [74, 20, 91],\n    hsl: [74, 51, 82],\n    lab: [90, -12, 22],\n  },\n  {\n    name: \"Wheat\",\n    hex: \"e8d2ae\",\n    rgb: [232, 210, 174],\n    cmyk: [0, 9, 25, 9],\n    hsb: [37, 25, 91],\n    hsl: [37, 56, 80],\n    lab: [85, 2, 21],\n  },\n  {\n    name: \"Tumbleweed\",\n    hex: \"d7b29d\",\n    rgb: [215, 178, 157],\n    cmyk: [0, 17, 27, 16],\n    hsb: [22, 27, 84],\n    hsl: [22, 42, 73],\n    lab: [75, 10, 16],\n  },\n  {\n    name: \"Old Rose\",\n    hex: \"cb8589\",\n    rgb: [203, 133, 137],\n    cmyk: [0, 34, 33, 20],\n    hsb: [357, 34, 80],\n    hsl: [357, 40, 66],\n    lab: [63, 27, 9],\n  },\n  {\n    name: \"Deep Taupe\",\n    hex: \"796465\",\n    rgb: [121, 100, 101],\n    cmyk: [0, 17, 17, 53],\n    hsb: [357, 17, 47],\n    hsl: [357, 10, 43],\n    lab: [44, 9, 3],\n  },\n];\n","import {\n  DISPLAY_NAMES_BY_KEY,\n  PLURAL_DISPLAY_NAMES_BY_KEY,\n  SEARCHABLE_KEYS,\n} from \"./constants\";\n\nexport function getKeyDisplayName(key) {\n  return DISPLAY_NAMES_BY_KEY[key];\n}\n\nexport function getKeyPluralDisplayName(key) {\n  return PLURAL_DISPLAY_NAMES_BY_KEY[key];\n}\n\nexport function getSearchStringForRecipe(recipe) {\n  return Object.keys(recipe).reduce(\n    (acc, key) =>\n      SEARCHABLE_KEYS.includes(key) ? `${acc}${recipe[key]}` : acc,\n    \"\"\n  );\n}\n\nexport function formatPhotoLink(raw_uri) {\n  const match = raw_uri.match(\n    new RegExp(/(https:\\/\\/drive.google.com\\/)(file\\/d\\/|open\\?id=)([^/]*)/)\n  );\n\n  if (!match) return null;\n\n  const path = match[1];\n  const id = match[3];\n  return `${path}uc?export=view&id=${id}`;\n}\n","import * as React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useReactToPrint } from \"react-to-print\";\nimport { DISPLAY_NAMES_BY_KEY } from \"./constants\";\nimport { formatPhotoLink } from \"./utils\";\n\nconst METADATA_PROPS = [\"cooking_time\", \"preheat_temp\", \"servings\", \"source\"];\nexport function RecipeDetails(props) {\n  const { recipes } = props;\n  const { recipeId } = useParams();\n  const printElRef = React.useRef();\n  const handlePrint = useReactToPrint({\n    content: () => printElRef.current,\n  });\n\n  if (!recipes || recipes.length === 0) return null;\n\n  const currentRecipe = recipes.find((r) => r.id === recipeId);\n  const { name, person, ingreds, instructions, photos, story } = currentRecipe;\n\n  const photoUris = photos ? photos.split(\", \") : [];\n\n  return (\n    <div ref={printElRef} className=\"recipe_container\">\n      <div className=\"button_row\">\n        <button\n          onClick={handlePrint}\n          title=\"print this recipe\"\n          className=\"print_recipe_button\"\n        >\n          <svg\n            id=\"_x31__px\"\n            enableBackground=\"new 0 0 24 24\"\n            viewBox=\"0 0 24 24\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path d=\"m21.5 18h-3c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h3c.827 0 1.5-.673 1.5-1.5v-7c0-.827-.673-1.5-1.5-1.5h-19c-.827 0-1.5.673-1.5 1.5v7c0 .827.673 1.5 1.5 1.5h3c.276 0 .5.224.5.5s-.224.5-.5.5h-3c-1.379 0-2.5-1.122-2.5-2.5v-7c0-1.378 1.121-2.5 2.5-2.5h19c1.379 0 2.5 1.122 2.5 2.5v7c0 1.378-1.121 2.5-2.5 2.5z\" />\n            <path d=\"m14.5 21h-6c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h6c.276 0 .5.224.5.5s-.224.5-.5.5z\" />\n            <path d=\"m14.5 19h-6c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h6c.276 0 .5.224.5.5s-.224.5-.5.5z\" />\n            <path d=\"m10.5 17h-2c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h2c.276 0 .5.224.5.5s-.224.5-.5.5z\" />\n            <path d=\"m18.5 7c-.276 0-.5-.224-.5-.5v-4c0-.827-.673-1.5-1.5-1.5h-9c-.827 0-1.5.673-1.5 1.5v4c0 .276-.224.5-.5.5s-.5-.224-.5-.5v-4c0-1.378 1.121-2.5 2.5-2.5h9c1.379 0 2.5 1.122 2.5 2.5v4c0 .276-.224.5-.5.5z\" />\n            <path d=\"m16.5 24h-9c-1.379 0-2.5-1.122-2.5-2.5v-8c0-.276.224-.5.5-.5h13c.276 0 .5.224.5.5v8c0 1.378-1.121 2.5-2.5 2.5zm-10.5-10v7.5c0 .827.673 1.5 1.5 1.5h9c.827 0 1.5-.673 1.5-1.5v-7.5z\" />\n          </svg>\n        </button>\n      </div>\n      {photoUris.map((p, i) => (\n        <img\n          key={i}\n          className=\"recipe_photo_detail\"\n          src={formatPhotoLink(p)}\n          alt={`${name}${i}`}\n        />\n      ))}\n      <div className=\"info_section\">\n        <h3 className=\"recipe_name\">{name}</h3>\n        <p className=\"recipe_person\">{`Contributed By: ${person}`}</p>\n        <table className=\"recipe_metadata\">\n          <tbody>\n            {METADATA_PROPS.map((p) =>\n              props[p] ? (\n                <React.Fragment key={p}>\n                  <tr className=\"metadata_item\">\n                    <td className=\"metadata_key\">{DISPLAY_NAMES_BY_KEY[p]}</td>\n                    <td>{props[p]}</td>\n                  </tr>\n                  <tr className=\"page_break\"></tr>\n                </React.Fragment>\n              ) : null\n            )}\n          </tbody>\n        </table>\n        {story && <p className=\"recipe_story\">{story}</p>}\n      </div>\n      <div className=\"page_break\" />\n      <div className=\"making_it_section\">\n        <div className=\"ingreds_wrapper\">\n          <strong className=\"category_header\">\n            {DISPLAY_NAMES_BY_KEY.ingreds}\n          </strong>\n          <ul className=\"ingreds_list\">\n            {ingreds &&\n              ingreds\n                .split(\"\\n\")\n                .filter((i) => i)\n                .map((i, index) => (\n                  <React.Fragment key={`${index}${i}`}>\n                    <li className=\"ingred_item\">{i}</li>\n                    <div className=\"page_break\" />\n                  </React.Fragment>\n                ))}\n          </ul>\n        </div>\n        <div className=\"instructions_wrapper\">\n          <strong className=\"category_header\">\n            {DISPLAY_NAMES_BY_KEY.instructions}\n          </strong>\n          <div>\n            {instructions &&\n              instructions\n                .split(\"\\n\")\n                .filter((i) => i)\n                .map((i, index) => (\n                  <React.Fragment key={`${index}${i}`}>\n                    <p className=\"instruction_item\">{i}</p>\n                    <div className=\"page_break\" />\n                  </React.Fragment>\n                ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import * as React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { formatPhotoLink } from \"./utils\";\n\nexport function RecipeTile(props) {\n  const { name, person, photos, id } = props;\n\n  return (\n    <div className=\"recipe_tile\">\n      <Link to={`/${id}`} className=\"recipe_tile_anchor\">\n        {photos ? (\n          <img\n            className=\"recipe_photo_thumbnail\"\n            src={formatPhotoLink(photos.split(\", \")[0])}\n            alt={name}\n          />\n        ) : (\n          <div className=\"recipe_placeholder_thumbnail\" />\n        )}\n        <p className=\"recipe_tile_name\">{name}</p>\n        <p className=\"recipe_tile_person\">{person}</p>\n      </Link>\n    </div>\n  );\n}\n","import * as React from \"react\";\nimport { RecipeTile } from \"./RecipeTile\";\nimport { getSearchStringForRecipe } from \"./utils\";\n\nexport function RecipeGrid(props) {\n  const { recipes, filters, searchTerm } = props;\n\n  return (\n    <div className=\"recipes_container\">\n      {recipes.map((recipe) => {\n        const passesFilters = filters.every(({ key, value }) => {\n          return recipe[key] === value;\n        });\n        const passesSearch =\n          searchTerm === \"\" ||\n          getSearchStringForRecipe(recipe).search(\n            new RegExp(searchTerm, \"i\")\n          ) >= 0;\n        return passesFilters && passesSearch ? (\n          <RecipeTile key={recipe.id} {...recipe} />\n        ) : null;\n      })}\n    </div>\n  );\n}\n","import * as React from \"react\";\n\nexport function SearchBar(props) {\n  const { setSearchTerm, searchTerm } = props;\n\n  return (\n    <div className=\"search_container\">\n      <input\n        onChange={(e) => setSearchTerm(e.target.value)}\n        placeholder=\"Search...\"\n        value={searchTerm}\n      ></input>\n      {searchTerm && (\n        <i className=\"clear_search_button\" onClick={() => setSearchTerm(\"\")}>\n          &times;\n        </i>\n      )}\n    </div>\n  );\n}\n","import * as React from \"react\";\nimport { getKeyPluralDisplayName } from \"./utils\";\n\nexport function Filter(props) {\n  const { filterKey, currentValue, allValues, setKeyFilter } = props;\n  return (\n    <div className={`filter_container ${filterKey}_filter`}>\n      <select\n        onChange={(e) => {\n          const options = e.target.options;\n          const index = e.target.selectedIndex;\n          const value = options[index].value;\n          setKeyFilter(filterKey, value);\n        }}\n        value={currentValue ?? \"\"}\n      >\n        <option value={\"\"}>{`all ${getKeyPluralDisplayName(\n          filterKey\n        )}...`}</option>\n        {allValues.map((value) => (\n          <option key={value} value={value}>\n            {value}\n          </option>\n        ))}\n      </select>\n    </div>\n  );\n}\n","import * as React from \"react\";\nimport { Filter } from \"./Filter\";\n\nconst FILTERABLE_KEYS = [\"person\", \"raw_cat\"];\n\nexport function Filters(props) {\n  const { recipes, setFilters, filters } = props;\n\n  const setKeyFilter = (key, value) => {\n    if (value) {\n      setFilters([...filters.filter((f) => f.key !== key), { key, value }]);\n    } else {\n      setFilters([...filters.filter((f) => f.key !== key)]);\n    }\n  };\n\n  const getFilterValueForKey = (key) =>\n    filters.find((f) => f.key === key)?.value;\n\n  const getUniqueValuesForKey = (key) =>\n    recipes\n      .map((r) => r[key])\n      .filter((value, index, all) => value && all.indexOf(value) === index);\n\n  return recipes ? (\n    <div className=\"filters_container\">\n      {FILTERABLE_KEYS.map((key) => (\n        <Filter\n          key={key}\n          filterKey={key}\n          currentValue={getFilterValueForKey(key)}\n          allValues={getUniqueValuesForKey(key)}\n          setKeyFilter={setKeyFilter}\n        />\n      ))}\n      {filters.length > 0 && (\n        <button onClick={() => setFilters([])}>clear all</button>\n      )}\n    </div>\n  ) : null;\n}\n","import * as React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./App.css\";\nimport { RecipeGrid } from \"./RecipeGrid\";\nimport { SearchBar } from \"./SearchBar\";\nimport { Filters } from \"./Filters\";\n\nexport function Home(props) {\n  const { recipes } = props;\n\n  const [filters, setFilters] = React.useState([]);\n  const [searchTerm, setSearchTerm] = React.useState(\"\");\n\n  if (!recipes) return null;\n\n  return (\n    <>\n      <div className=\"controls_container\">\n        <SearchBar setSearchTerm={setSearchTerm} searchTerm={searchTerm} />\n        <Filters recipes={recipes} setFilters={setFilters} filters={filters} />\n        <Link to=\"add\" className=\"add_recipe_link\">\n          + Add Recipe\n        </Link>\n      </div>\n      <RecipeGrid recipes={recipes} filters={filters} searchTerm={searchTerm} />\n    </>\n  );\n}\n","import * as React from \"react\";\n\nlet cachedScripts = [];\n\nexport function useScript(src) {\n  const [state, setState] = React.useState({\n    loaded: false,\n    error: false,\n  });\n\n  React.useEffect(\n    () => {\n      // If cachedScripts array already includes src that means another instance ...\n      // ... of this hook already loaded this script, so no need to load again.\n      if (cachedScripts.includes(src)) {\n        setState({ loaded: true, error: false });\n      } else {\n        cachedScripts.push(src);\n        // Create script\n        let script = document.createElement(\"script\");\n        script.src = src;\n        script.async = true;\n        // Script event listener callbacks for load and error\n        const onScriptLoad = () => {\n          setState({ loaded: true, error: false });\n        };\n\n        const onScriptError = () => {\n          // Remove from cachedScripts we can try loading again\n          const index = cachedScripts.indexOf(src);\n          if (index >= 0) cachedScripts.splice(index, 1);\n          script.remove();\n          setState({ loaded: true, error: true });\n        };\n        script.addEventListener(\"load\", onScriptLoad);\n        script.addEventListener(\"error\", onScriptError);\n        // Add script to document body\n        document.body.appendChild(script);\n        // Remove event listeners on cleanup\n        return () => {\n          script.removeEventListener(\"load\", onScriptLoad);\n          script.removeEventListener(\"error\", onScriptError);\n        };\n      }\n    },\n    [src] // Only re-run effect if script src changes\n  );\n  return [state.loaded, state.error];\n}\n","import * as React from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport \"./App.css\";\nimport { Authentication } from \"./Authentication\";\nimport { useScript } from \"./useScript\";\n\nexport function NavBar(props) {\n  const { setRecipes } = props;\n  const { pathname } = useLocation();\n  const [gapiLoaded, gapiError] = useScript(\n    \"https://apis.google.com/js/api.js\"\n  );\n\n  return (\n    <div className=\"main_nav\">\n      <NavLink to=\"/\" path={pathname}>\n        Recipes\n      </NavLink>\n      <NavLink to=\"/about\" path={pathname}>\n        About\n      </NavLink>\n      <Authentication loaded={gapiLoaded} setRecipes={setRecipes} />\n      {gapiError && <p>gapiError</p>}\n    </div>\n  );\n}\n\nfunction NavLink(props) {\n  const className = `nav_link ${props.path === props.to ? \"active\" : \"\"}`;\n\n  return <Link {...{ className, ...props }}>{props.children}</Link>;\n}\n","import * as React from \"react\";\n\nexport function About() {\n  return (\n    <div className=\"about_container\">\n      <p>\n        The goal of this web app is to provide our family with a way to easily\n        browse, search, view, print, share, and create recipes that mean\n        something to us.\n      </p>\n      <p>\n        If something is not functioning properly or you'd like to recommend a\n        new feature be added, please file an issue in the{\" \"}\n        <a\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          href=\"https://github.com/family-resources/recipes/issues/new\"\n        >\n          issue tracker\n        </a>\n        .\n      </p>\n    </div>\n  );\n}\n","import * as React from \"react\";\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\nimport \"./App.css\";\nimport { RecipeDetails } from \"./RecipeDetails\";\nimport { AddRecipe } from \"./AddRecipe\";\nimport { Home } from \"./Home\";\nimport { NavBar } from \"./NavBar\";\nimport { About } from \"./About\";\n\nfunction App() {\n  const [recipes, setRecipes] = React.useState(null);\n\n  return (\n    <HashRouter basename=\"/\">\n      <div className=\"app_container\">\n        <NavBar setRecipes={setRecipes} />\n        <Route exact path=\"/\">\n          <Home recipes={recipes} />\n        </Route>\n        <Switch>\n          <Route exact path=\"/about\">\n            <About />\n          </Route>\n          <Route path=\"/add\">\n            <AddRecipe recipes={recipes} />\n          </Route>\n          <Route path=\"/:recipeId\">\n            <RecipeDetails recipes={recipes} />\n          </Route>\n        </Switch>\n      </div>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}