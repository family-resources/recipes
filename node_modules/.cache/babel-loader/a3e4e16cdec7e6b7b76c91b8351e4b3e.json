{"ast":null,"code":"export function Authentication() {\n  global.gapi.load(\"client:auth2\", initClient);\n  /**\n   *  Initializes the API client library and sets up sign-in state\n   *  listeners.\n   */\n\n  function initClient() {\n    global.gapi.client.init({\n      apiKey: API_KEY,\n      clientId: CLIENT_ID,\n      discoveryDocs: DISCOVERY_DOCS,\n      scope: \"https://www.googleapis.com/auth/spreadsheets.readonly\"\n    }).then(function () {\n      // Listen for sign-in state changes.\n      global.gapi.auth2.getAuthInstance().isSignedIn.listen(updateSigninStatus); // Handle the initial sign-in state.\n\n      updateSigninStatus(global.gapi.auth2.getAuthInstance().isSignedIn.get());\n      authorizeButton.onclick = handleAuthClick;\n      signoutButton.onclick = handleSignoutClick;\n    }, function (error) {\n      appendPre(JSON.stringify(error, null, 2));\n    });\n  }\n  /**\n   *  Called when the signed in status changes, to update the UI\n   *  appropriately. After a sign-in, the API is called.\n   */\n\n\n  function updateSigninStatus(isSignedIn) {\n    if (isSignedIn) {\n      authorizeButton.style.display = \"none\";\n      signoutButton.style.display = \"block\";\n      listMajors();\n    } else {\n      authorizeButton.style.display = \"block\";\n      signoutButton.style.display = \"none\";\n    }\n  }\n  /**\n   *  Sign in the user upon button click.\n   */\n\n\n  function handleAuthClick(event) {\n    global.gapi.auth2.getAuthInstance().signIn();\n  }\n  /**\n   *  Sign out the user upon button click.\n   */\n\n\n  function handleSignoutClick(event) {\n    global.gapi.auth2.getAuthInstance().signOut();\n  }\n\n  function appendRawMessage(message) {\n    var pre = document.getElementById(\"content\");\n    var textContent = document.createTextNode(message + \"\\n\");\n    pre.appendChild(textContent);\n  }\n\n  function appendRecipe(recipe) {\n    const list = document.getElementById(\"recipes_container\");\n    const recipeContainer = document.createElement(\"div\");\n    recipeContainer.setAttribute(\"class\", \"recipe_container\");\n    const [name, person, raw_cat, raw_recipe, ingreds, instructions, story, source, cooking_time, preheat_temp, servings, photos] = recipe;\n    console.table({\n      name,\n      person,\n      raw_cat\n    });\n    const nameEl = document.createElement(\"h3\");\n    nameEl.setAttribute(\"class\", \"recipe_name\");\n    nameEl.innerHTML = name;\n    recipeContainer.appendChild(nameEl);\n    const personEl = document.createElement(\"h5\");\n    personEl.setAttribute(\"class\", \"recipe_person\");\n    personEl.innerHTML = person;\n    recipeContainer.appendChild(personEl);\n    const ingredsEl = document.createElement(\"ul\");\n    ingredsEl.setAttribute(\"class\", \"recipe_ingreds\");\n    ingreds.split(\"\\n\").forEach(i => {\n      // ignore empty lines\n      if (i) {\n        const ingredEl = document.createElement(\"li\");\n        ingredEl.innerHTML = i;\n        ingredsEl.appendChild(ingredEl);\n      }\n    });\n    recipeContainer.appendChild(ingredsEl);\n    const instructionsEl = document.createElement(\"div\");\n    instructionsEl.setAttribute(\"class\", \"recipe_instructions\");\n    instructions.split(\"\\n\").forEach(i => {\n      // ignore empty lines\n      if (i) {\n        const instructEl = document.createElement(\"p\");\n        instructEl.innerHTML = i;\n        instructionsEl.appendChild(instructEl);\n      }\n    });\n    recipeContainer.appendChild(instructionsEl);\n    list.appendChild(recipeContainer);\n  }\n  /**\n   * Print the contents of the spreadsheet\n   * https://docs.google.com/spreadsheets/d/1mlCIY1G-CW1EfNddv7tjEVJoXCz6TyXLcNfqLdBRkzU/edit#gid=1825319816\n   */\n\n\n  function listMajors() {\n    gapi.client.sheets.spreadsheets.values.get({\n      spreadsheetId: \"1mlCIY1G-CW1EfNddv7tjEVJoXCz6TyXLcNfqLdBRkzU\",\n      range: \"Recipes!A2:L92\"\n    }).then(response => {\n      const recipes = response.result.values;\n\n      if (recipes.length > 0) {\n        recipes.forEach(appendRecipe);\n      } else {\n        appendRawMessage(\"No data found.\");\n      }\n    }, function (response) {\n      appendRawMessage(\"Error: \" + response.result.error.message);\n    });\n  } // <script async defer src=\"https://apis.google.com/js/api.js\"\n  //   onload=\"this.onload=function(){};handleClientLoad()\"\n  //   onreadystatechange=\"if (this.readyState === 'complete') this.onload()\">\n  // </script>\n\n}\n_c = Authentication;\n\nvar _c;\n\n$RefreshReg$(_c, \"Authentication\");","map":{"version":3,"sources":["/Users/briancooper/personal/recipes-app/src/Authentication.js"],"names":["Authentication","global","gapi","load","initClient","client","init","apiKey","API_KEY","clientId","CLIENT_ID","discoveryDocs","DISCOVERY_DOCS","scope","then","auth2","getAuthInstance","isSignedIn","listen","updateSigninStatus","get","authorizeButton","onclick","handleAuthClick","signoutButton","handleSignoutClick","error","appendPre","JSON","stringify","style","display","listMajors","event","signIn","signOut","appendRawMessage","message","pre","document","getElementById","textContent","createTextNode","appendChild","appendRecipe","recipe","list","recipeContainer","createElement","setAttribute","name","person","raw_cat","raw_recipe","ingreds","instructions","story","source","cooking_time","preheat_temp","servings","photos","console","table","nameEl","innerHTML","personEl","ingredsEl","split","forEach","i","ingredEl","instructionsEl","instructEl","sheets","spreadsheets","values","spreadsheetId","range","response","recipes","result","length"],"mappings":"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","sourcesContent":["export function Authentication() {\n  global.gapi.load(\"client:auth2\", initClient);\n\n  /**\n   *  Initializes the API client library and sets up sign-in state\n   *  listeners.\n   */\n  function initClient() {\n    global.gapi.client\n      .init({\n        apiKey: API_KEY,\n        clientId: CLIENT_ID,\n        discoveryDocs: DISCOVERY_DOCS,\n        scope: \"https://www.googleapis.com/auth/spreadsheets.readonly\",\n      })\n      .then(\n        function () {\n          // Listen for sign-in state changes.\n          global.gapi.auth2\n            .getAuthInstance()\n            .isSignedIn.listen(updateSigninStatus);\n\n          // Handle the initial sign-in state.\n          updateSigninStatus(\n            global.gapi.auth2.getAuthInstance().isSignedIn.get()\n          );\n          authorizeButton.onclick = handleAuthClick;\n          signoutButton.onclick = handleSignoutClick;\n        },\n        function (error) {\n          appendPre(JSON.stringify(error, null, 2));\n        }\n      );\n  }\n\n  /**\n   *  Called when the signed in status changes, to update the UI\n   *  appropriately. After a sign-in, the API is called.\n   */\n  function updateSigninStatus(isSignedIn) {\n    if (isSignedIn) {\n      authorizeButton.style.display = \"none\";\n      signoutButton.style.display = \"block\";\n      listMajors();\n    } else {\n      authorizeButton.style.display = \"block\";\n      signoutButton.style.display = \"none\";\n    }\n  }\n\n  /**\n   *  Sign in the user upon button click.\n   */\n  function handleAuthClick(event) {\n    global.gapi.auth2.getAuthInstance().signIn();\n  }\n\n  /**\n   *  Sign out the user upon button click.\n   */\n  function handleSignoutClick(event) {\n    global.gapi.auth2.getAuthInstance().signOut();\n  }\n\n  function appendRawMessage(message) {\n    var pre = document.getElementById(\"content\");\n    var textContent = document.createTextNode(message + \"\\n\");\n    pre.appendChild(textContent);\n  }\n\n  function appendRecipe(recipe) {\n    const list = document.getElementById(\"recipes_container\");\n    const recipeContainer = document.createElement(\"div\");\n    recipeContainer.setAttribute(\"class\", \"recipe_container\");\n    const [\n      name,\n      person,\n      raw_cat,\n      raw_recipe,\n      ingreds,\n      instructions,\n      story,\n      source,\n      cooking_time,\n      preheat_temp,\n      servings,\n      photos,\n    ] = recipe;\n    console.table({ name, person, raw_cat });\n\n    const nameEl = document.createElement(\"h3\");\n    nameEl.setAttribute(\"class\", \"recipe_name\");\n    nameEl.innerHTML = name;\n    recipeContainer.appendChild(nameEl);\n\n    const personEl = document.createElement(\"h5\");\n    personEl.setAttribute(\"class\", \"recipe_person\");\n    personEl.innerHTML = person;\n    recipeContainer.appendChild(personEl);\n\n    const ingredsEl = document.createElement(\"ul\");\n    ingredsEl.setAttribute(\"class\", \"recipe_ingreds\");\n    ingreds.split(\"\\n\").forEach((i) => {\n      // ignore empty lines\n      if (i) {\n        const ingredEl = document.createElement(\"li\");\n        ingredEl.innerHTML = i;\n        ingredsEl.appendChild(ingredEl);\n      }\n    });\n    recipeContainer.appendChild(ingredsEl);\n\n    const instructionsEl = document.createElement(\"div\");\n    instructionsEl.setAttribute(\"class\", \"recipe_instructions\");\n    instructions.split(\"\\n\").forEach((i) => {\n      // ignore empty lines\n      if (i) {\n        const instructEl = document.createElement(\"p\");\n        instructEl.innerHTML = i;\n        instructionsEl.appendChild(instructEl);\n      }\n    });\n    recipeContainer.appendChild(instructionsEl);\n\n    list.appendChild(recipeContainer);\n  }\n\n  /**\n   * Print the contents of the spreadsheet\n   * https://docs.google.com/spreadsheets/d/1mlCIY1G-CW1EfNddv7tjEVJoXCz6TyXLcNfqLdBRkzU/edit#gid=1825319816\n   */\n  function listMajors() {\n    gapi.client.sheets.spreadsheets.values\n      .get({\n        spreadsheetId: \"1mlCIY1G-CW1EfNddv7tjEVJoXCz6TyXLcNfqLdBRkzU\",\n        range: \"Recipes!A2:L92\",\n      })\n      .then(\n        (response) => {\n          const recipes = response.result.values;\n          if (recipes.length > 0) {\n            recipes.forEach(appendRecipe);\n          } else {\n            appendRawMessage(\"No data found.\");\n          }\n        },\n        function (response) {\n          appendRawMessage(\"Error: \" + response.result.error.message);\n        }\n      );\n  }\n\n  // <script async defer src=\"https://apis.google.com/js/api.js\"\n  //   onload=\"this.onload=function(){};handleClientLoad()\"\n  //   onreadystatechange=\"if (this.readyState === 'complete') this.onload()\">\n  // </script>\n}\n"]},"metadata":{},"sourceType":"module"}